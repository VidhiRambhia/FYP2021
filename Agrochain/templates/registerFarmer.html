<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Register</title>
        <!-- Mobile Specific Metas -->
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <!-- Font-->
        <link rel="stylesheet" type="text/css" href="../static/css/montserrat-font.css">
        <link rel="stylesheet" type="text/css" href="../static/fonts/material-design-iconic-font/css/material-design-iconic-font.min.css">
        <!-- Main Style Css -->
        <link rel="stylesheet" href="../static/css/index.css" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">


        <script src="../static/js/jquery-3.5.1.js"></script>

    </head>

    <body class="form-v10">
        <div class="page-content">
            <div class="form-v10-content" style="width:750px;height:1000px">
                <form class="form-detail" action="/registerFarmer" method="POST" id="myform">
                    <div class="form-left">
                        <h2>Please register yourself as a Farmer.</h2>


                    <div class="form-group">
							<div class="form-row form-row-1">
                                <input type="email" id="email" name="email" class="input-text" placeholder="Your email" required>
                             </div>
                        <!-- <div class="form-right">
                            <div class="form-row">
                                <img src="../resources/images/signin-image.jpg" style="height: 400px;">
                            </div>
                        </div> -->
                            <div class="form-row">
                                <input type="password" name="password" class="input-text" placeholder="Password">
                            </div>
                    </div>


                    <div class="form-group">
                        <label for="exampleFormControlInput1" style="margin-left: 70px;">You can add multiple plots</label>
                    </div>

                    <div id="container">

                        <div id="plot_form">

                            <div class="form-row">
                                <button id="add_form_field" type="button" class="btn btn-link">+ Add Another Plot</button>
                            </div>
                            
                            <div class="form-group">
                                <div class="form-row form-row-1">
                                    <input type="text" name="plot_number" id="plot_number" class="input-text" placeholder="Enter Plot Number" required>
                                </div>
                                <div class="form-row form-row-1">
                                    <input type="text" name="plot_owner" id="plot_owner" class="input-text" placeholder="Enter Plot Owner" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="form-row form-row-1">
                                    <input type="text" name="plot_address" id="plot_address" class="input-text" placeholder="Enter Plot Address" required>
                                </div>
                            </div>
    
                        </div>

                    </div>

                    <div class="form-row form-row-1 " style="margin-top: 15px;">
                        <button type="button submit" class="btn btn-primary btn-lg">Submit</button>
                    </div>

                   
                </form>
            </div>
        </div>
    </body>

<script>


$(document).ready(function() {
    var max_fields = 3;
    var wrapper = $("#container");
    var add_button = $("#add_form_field");

    var x = 1;
    $(add_button).click(function(e) {
        e.preventDefault();
        var plot_form_new = document.createElement('div');
        var plot_form = document.getElementById("plot_form")

        var plot_form_div_content = `<div id='plot_form'>                             
                            <div class='form-group'> 
                                <div class='form-row form-row-1'>
                                    <input type='text' name='plot_number_`  + x.toString() + `' id='plot_number_`  + x.toString() + `' class='input-text' placeholder='Enter Plot Number' required>
                                </div>
                                <div class='form-row form-row-1'>
                                    <input type='text' name='plot_owner_`  + x.toString() + `' id='plot_owner_`  + x.toString() + `' class='input-text' placeholder='Enter Plot Owner' required>
                                </div>
                            </div>

                            <div class='form-group'>
                                <div class='form-row form-row-1'>
                                    <input type='text' name='plot_address_`  + x.toString() + `' id='plot_address_`  + x.toString() + `' class='input-text' placeholder='Enter Plot Address' required>
                                </div>
                            </div>
                        </div>`;


        plot_form_new.innerHTML = "<div>" + plot_form_div_content +"<a href='#' style='color:red;' class='delete form-row'>Delete</a></div>";
        plot_form_new.id = plot_form.id + '_' + x.toString();
        
        if (x < max_fields) {
            x++;

            $(wrapper).append(plot_form_new); //add input box

        } else {
            alert('You Reached the limits')
        }
    });

    $(wrapper).on("click", ".delete", function(e) {
        e.preventDefault();
        $(this).parent('div').remove();
        x--;
    })
}); 
</script>

</html>
